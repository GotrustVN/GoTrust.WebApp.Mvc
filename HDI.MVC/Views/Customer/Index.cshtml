@{
    ViewData["Title"] = "Danh sách khách hàng";
}

@section Scripts
{
    <script src="~/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#grid').dataTable({
                ordering: true,
                searching: true,
                paging: true,
                info: false,
                responsive: true,
                language: {
                    paginate: {
                        previous: "Trước",
                        next: "Tiếp",
                        first: "Đầu",
                        last: "Cuối"
                    },
                    emptyTable: "Không có dữ liệu",
                    lengthMenu: "Số lượng của trang _MENU_",
                    search: "Tìm kiếm:",
                },
                ajax: {
                    url: "@Url.Action("GetAll", "Customer")",
                    dataSrc: 'data'
                },
                columns: [
                    { data: "code" },
                    { data: "name" },
                    { data: "type.name", defaultContent: '' },
                    { data: "phone"},
                    { data: "email"},
                    { data: "identityNumber"},
                    { data: "gender.name"},
                    {
                        data: null,
                        render: (data, type, row) => {
                            let url = "@Url.Action("Detail","Customer")?code=" + data.code;
                            return "<a class='btn btn-success text-white' href="+url+"><i class='fas fa-external-link-alt'></i></a>"
                        }
                    }
                ]
            });
        });
    </script>
}
<div class="row w-100 m-0">
    <div class="card w-100">
        <div class="card-header">
            <div class="row w-100 m-0">
                <div class="col-12 col-md-10">
                    <h3 class="card-title m-0">Danh sách khách hàng</h3>
                </div>
                <div class="col-3 col-md-1">
                    <a class="btn btn-success w-100 text-white" asp-action="Create" asp-controller="Customer">
                        <i class="fas fa-plus"></i>
                    </a>
                </div>
                <div class="col-3 col-md-1">
                    <a class="btn btn-primary w-100 text-white" asp-action="Import" asp-controller="Customer">
                        <i class="fas fa-file-import"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="card-body">
            <table id="grid" class="table table-striped table-bordered w-100">
                <thead>
                    <tr>
                        <th>Mã</th>
                        <th>Tên</th>
                        <th>Loại</th>
                        <th>Điện thoại</th>
                        <th>Email</th>
                        <th>CMND/CCCD</th>
                        <th>Phái</th>
                        <th></th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>